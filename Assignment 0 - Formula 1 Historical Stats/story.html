<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formula 1: Historical stats.</title>
    <link href="storystyle.css" rel="stylesheet" media="all">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div id="changingBg">
    <header>
        <div> 
            <h1>Formula 1: Historical stats.</h1>
            <a href="#storyIntroduction">Story</a>
            <a href="#formula1Data">Formula 1 Winnner Data</a>
            <a href="#lapTimes">Lap Times</a>
            <a href="#europeanRaces">EuropeanRaces</a>
        </div>
    </header>
    <section id="storyIntroduction">
        <h2>Introduction</h2>
        <p>Welcome to the Formula 1: Historical stats website. Here, we've gathered data from 53 years of Formula 1 races to present you with interesting facts and figures.</p>
    </section>
    
    <section class="scrollContainer" id="formula1Data">

            <!-- Title Section -->
            <div class="scrollText" id="titleSection">
                <h2>The Kings of Formula1</h2>
            </div>
        
            <!-- Winner 1 Section -->
            <div class="scrollText" id="winner1">
                <h3>Lewis Hamilton</h3>
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Lewis_Hamilton_2016_Malaysia_2.jpg/200px-Lewis_Hamilton_2016_Malaysia_2.jpg" alt="Lewis Hamilton" />
                <p>Brief information about Lewis Hamilton.</p>
                <div class="victories">
                    Total Victories: 95
                </div>
            </div>
        
            <!-- Winner 2 Section -->
            <div class="scrollText" id="winner2">
                <h3>Michael Schumacher</h3>
                <img src="path_to_michael_image.jpg" alt="Michael Schumacher" />
                <p>Brief information about Michael Schumacher.</p>
                <div class="victories">
                    Total Victories: 91
                </div>
            </div>
        
            <!-- Winner 3 Section -->
            <div class="scrollText" id="winner3">
                <h3>Sebastian Vettel</h3>
                <img src="path_to_sebastian_image.jpg" alt="Sebastian Vettel" />
                <p>Brief information about Sebastian Vettel.</p>
                <div class="victories">
                    Total Victories: 53
                </div>
            </div>
        
            <!-- Graph for Top 10 winners -->
            <div class="scrollText" id="top10Graph">
                <h3>Top 10 Winners</h3>
                <canvas id="winnersChart"></canvas>
            </div>
        
        </section>
    
    <section class="textSection" id="lapTimes">
        <h2>Lap Time Information</h2>
        <p>Best Lap Time: 0:55.404 by George Russell</p>
        <p>Worst Lap Time: 9:45.712 by Felipe Massa</p>
        <p>Average Lap Time: (Placeholder for average time)</p>
    </section>
    
    <section class="textSection" id="europeanRaces">
        <h2>European Races 2024</h2>
        <div id="map"></div> 
    </section>

    <script>
       
        var ctx = document.getElementById('winnersChart').getContext('2d');
var chart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Hamilton', 'Schumacher', 'Vettel', 'Prost', 'Verstappen', 'Senna', 'Alonso', 'Mansell', 'Stewart', 'Clark'],
        datasets: [{
            label: 'Number of Wins',
            data: [95, 91, 53, /*... other values for the drivers ...*/],
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            borderColor: 'rgba(255, 99, 132, 1)',
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});

           // Function to check if element is in viewport
           function isInViewport(el) {
            const rect = el.getBoundingClientRect();
            return (
                // Improved check of viewport for elements exceeding viewport height
                (rect.top <= 0 && rect.bottom >= 0) || 
                (rect.top >= 0 && rect.left >= 0 &&
                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.right <= (window.innerWidth || document.documentElement.clientWidth))
            );
        }

        // Make a check when page scrolls
        document.addEventListener('scroll', function () {
            // Change background based on which section is in viewport
            if (isInViewport(document.getElementById("storyIntroduction"))) {
                document.getElementById("changingBg").style.backgroundImage = "url(https://images.unsplash.com/photo-1606955317161-cb7d261c039a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80)";
            }
            if (isInViewport(document.getElementById("formula1Data"))) {
                document.getElementById("changingBg").style.backgroundImage = "url(https://images.unsplash.com/photo-1465343161283-c1959138ddaa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWgelkfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80)";
            }
            if (isInViewport(document.getElementById("lapTimes"))) {
                document.getElementById("changingBg").style.backgroundImage = "url(https://images.unsplash.com/photo-1516706332927-bb3a20d62514?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWgelkfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80)";
            }
            if (isInViewport(document.getElementById("europeanRaces"))) {
                document.getElementById("changingBg").style.backgroundImage = "url(https://images.unsplash.com/photo-1465343161283-c1959138ddaa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWgelkfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80)"; // Add a URL for this section's background
            }
        }, {
            passive: true
        });
    </script>

    </div>
</body>
</html>